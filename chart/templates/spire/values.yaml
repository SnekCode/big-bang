{{- if .Values.spire.enabled }}
{{- include "values-secret" (dict "root" $ "package" .Values.spire "name" "spire" "defaults" (include "bigbang.defaults.spire" .)) }}
{{- end }}

{{- define "bigbang.defaults.spire" -}}

{{- $domainName := default .Values.domain .Values.hostname }}
hostname: {{ $domainName }}
domain: {{ $domainName }}

createNamespace: false

imagePullPolicy: {{ .Values.imagePullPolicy }}

imagePullSecrets:
  - private-registry

{{- end -}}
